通过以下命令来检查MySQL服务器是否启动：#ps -ef | grep mysqld  如果MySQL已经启动，以上命令将输出MySQL进程列表.

你可以使用以下命令来启动MySQL服务器:#systemctl start mariadb.service

登录：$mysql -u root -p -P 3306 -h 127.0.0.0

退出: $exit

显示当前版本：
a.Not logged in:#mysql -V
b.Is logged in:#SELECT VERSION();

MySQL 用户设置>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

如果你需要添加 MySQL 用户，你只需要在 MySQL 数据库中的 user 表添加新用户即可。
以下为添加用户的的实例，用户名为guest，密码为guest123，并授权用户可进行 SELECT, INSERT 和 UPDATE操作权限：
root@host# mysql -u root -p
Enter password:*******
mysql> use mysql;

Database changed

mysql> INSERT INTO user 
          (host, user, password, 
           select_priv, insert_priv, update_priv) 
           VALUES ('localhost', 'guest', 
           PASSWORD('guest123'), 'Y', 'Y', 'Y');
Query OK, 1 row affected (0.20 sec)

mysql> FLUSH PRIVILEGES;
Query OK, 1 row affected (0.01 sec)

mysql> SELECT host, user, password FROM user WHERE user = 'guest';
+-----------+---------+------------------+
| host      | user    | password         |
+-----------+---------+------------------+
| localhost | guest | 6f8c114b58f2ce9e |
+-----------+---------+---
 注意：再注意需要执行 FLUSH PRIVILEGES 语句。 这个命令执行后会重新载入授权表。

你可以在创建用户时，为用户指定权限，在对应的权限列中，在插入语句中设置为 'Y' 即可，用户权限列表如下：

    Select_priv
    Insert_priv
    Update_priv
    Delete_priv
    Create_priv
    Drop_priv
    Reload_priv
    Shutdown_priv
    Process_priv
    File_priv
    Grant_priv
    References_priv
    Index_priv
    Alter_priv



另外一种添加用户的方法为通过SQL的 GRANT 命令，你下命令会给指定数据库TUTORIALS添加用户 zara ，密码为 zara123 。

root@host# mysql -u root -p password;
Enter password:*******
mysql> use mysql;
Database changed

mysql> GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP
    -> ON TUTORIALS.*
    -> TO 'zara'@'localhost'
    -> IDENTIFIED BY 'zara123';

以上命令会在MySQL数据库中的user表创建一条用户信息记录。 

MySQL 用户设置<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

使用 mysqladmin 工具来获取服务器状态:[root@host]# mysqladmin --version

显示当前日期时间：SELECT NOW();

显示当前用户：SELECT USER();

mysql语名的规范:
    a.关键字与函数名称全部大写，
    b.数据库名称，表名称，字段名称全部小写。

[数据库]
要在MySQL中创建数据库，请使用CREATE DATABASE语句，如下：
CREATE {DATABASE | SCHEMA} [IF NOT EXISTS] database_name [DEFAULT] CHARACTER SET [=] charset_name;
ps:CREATE DATABASE IF NOT EXISTS test DEFAULT CHARARTER SET = utf8;

SHOW DATABASES: 列出 MySQL 数据库管理系统的数据库列表。

要删除数据库，请使用DROP DATABASE语句，如下所示：
DROP {DATABASE | SCHEMA} [IF EXISTS] database_name;

查看warning信息：SHOW WARNINGS;

查看创建数据库时的编码方式:SHOW CREATE DATABASE database_name;

修改数据库编码：ALTER {DATABASE | SCHEMA} [db_name] [DEFAULT] CHARACTER SET [=] charset_name;



[类型]
notes:保存的时间用时间戳,因为有时区的问题存在。

字符串类型ENUM('value1','value2',...)用法是在指定的数值中取一个值，比如男女
字符串类型SET('value1','value2',...)用法是在指定的数集中取任意值，比如爱好.




[数据表]
USE 数据库名 :选择要操作的MySQL数据库，使用该命令后所有MySQL命令都只针对该数据库。

查看当前数据库:SELECT DATABASE();

SHOW TABLES: 显示指定数据库的所有表

查看数据库
SHOW TABLES [FROM db_name] [LIKE 'pattern' | WHERE expr];

创建数据表:
CREATE TABLE [IF NOT EXITS] table_name(
	column_name data_type,
	......
) engine=table_type;


查看创建数据库时:SHOW CREATE TABLE table_name;

PS:
MariaDB [king]> CREATE TABLE user(
    -> username VARCHAR(20),
    -> age TINYINT UNSIGNED,
    -> salary FLOAT(8,2) UNSIGNED
    -> );

note:unsigned是无符号位的意思.

SHOW COLUMNS FROM table_name: 显示数据表的属性，属性类型，主键信息 ，是否为 NULL，默认值等其他信息。

INSERT [INTO] table_name [(col_name,...)] VALUES(val,...);


SHOW INDEX FROM 数据表: 显示数据表的详细索引信息，包括PRIMARY KEY（主键）。

SHOW TABLE STATUS LIKE 数据表\G: 该命令将输出MySQL数据库管理系统的性能及统计信息。

查看数据表：
SELECT expr,... FROM table_name;

NULL and NOT NULL:
CREATE TABLE tb2(
   -> username VARCHAR(20) NOT NULL,
   -> age TINYINT UNSIGNED NULL
   -> );


查看数据结构：
SHOW COLUMNS FROM table_name;

[约束]
主键PRIMARY KEY：
a.主键约束.
b.每张表只能有一个主键.
c.主键自动为NOT NULL.
d.主键保证记录的唯一性.

AUTO_INCREMENT:
CREATE TABLE tb3(
	 id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
	 username VARCHAR(30) NOT NULL 
	 );


UNIQUE KEY:
a.唯一约束.
b.唯一约束可以保证记录的唯一性.
c.唯一约束的字段可以为空值
d.每张表可以存在多个唯一约束
CREATE TABLE tb5(
   -> id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
   -> username VARCHAR(20) NOT NULL UNIQUE KEY,
   -> age TINYINT UNSIGNED
   -> );


DEFAULT值:
CREATE TABLE tb6(
    -> id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    -> username VARCHAR(20) NOT NULL UNIQUE KEY,
    -> sex ENUM('1','2','3') DEFAULT '3'
    -> );

FOREIGN KEY(外键约束):
1.保持数据一致性，完整性。
2.实现一对一或一对多关系。


外键约束的要求：
1.父表和子表必须使用相同的存储引擎，而且禁止使用临时表。
2.数据表的存储引擎只能为InnoDB.
3.外键列和参照列必须具有相似的数据类型。其中数字的长度或是有符号位必须相同；而字符的长度则可以不同。
4.外键列和参照列必须创建索引。如果外键列不存在索引的话，MySQL将自动创建索引。

MariaDB [king]> CREATE TABLE provinces(
    -> id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    -> pname VARCHAR(20) NOT NULL
    -> );

MariaDB [king]> CREATE TABLE users(
    -> id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    -> username VARCHAR(10) NOT NULL,
    -> pid SMALLINT UNSIGNED,
    -> FOREIGN KEY (pid) REFERENCES provinces (id)
    -> );



查看索引:MariaDB [king]> show indexes from table_name\G;

编辑数据表的默认存储引擎
MySQL配直文件(my.ini)>>default-storage-engine=INNODB


约束:
1.约束保证数据的完整性和一致性。
2.约束分为表级约束和列级约束。
3.约束类型包括：
	NOT NULL(非空约束)
	PRIMARY KEY(主键约束)
	UNIQUE KYE(唯一约束)
	DEFAULT(默认约束)
	FOREIGN KEY(外键约束)


外键约束的参数(数据表必须为INNODB)：
1.CASCADE:从父表删除或更新且自动删除或更新子表中匹配的行。(同步删除或更新，ps:删除文章时，对应的文章评论也会同步删除)
2.SET NULL：从父表删除或更新行，并设置子表中的外键列为NULL。如果使用该选项，必须保证子表列没有指定NOT NULL。
3.RESTRICT：拒对父表的删除或更新操作。
4.NO ACTION：标准SQL的关键字，在MySQL中与RESTRICT相同。


MariaDB [king]> CREATE TABLE users1(
    -> id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    -> username VARCHAR(10) NOT NULL,
    -> pid SMALLINT UNSIGNED,
    -> FOREIGN KEY (pid) REFERENCES provinces (id) ON DELETE CASCADE
    -> );


表级约束与列级约束
1.对一个数据列建立的约束，称为列级约束。
2.对多个数据列建立的约束，称为表级约束。
3.列级约束既可以在列定义的时声明，也可以在列定义后声明。表级约束只能在列定义后声明。

[修改数据表]
添加单列：
ALTER TABLE table_name ADD [COLUMN] col_name column_definition [FIRST | AFTER col_name]; 

添加多列：ALTER TABLE table_name ADD [COLUMN] (col_name column_defination,...);

删除列：
ALTER TABLE table_name DROP [COLUMN] col_name;

删除多列：
ALTER TABLE table_name DROP [COLUMN] col_name1，col_name2,...;

添加主键约束：
ALTER TABLE table_name ADD [CONSTRAINT [symbol]] PRIMARY KEY [index_type](index_col_name,...);
ps:MariaDB [king]> ALTER TABLE users2 ADD CONSTRAINT PK_users2_id PRIMARY KEY(id);

添加唯一约束：
ALTER TABLE table_name ADD [CONSTRAINT [symbol]] UNIQUE [INDEX|key][index_name] [index_type] (index_col_name,...);
ps:MariaDB [king]> ALTER TABLE users2 ADD UNIQUE (username);

添加外键约束：
ALTER TABLE table_name ADD [CONSTRAINT [symbol]] FOREIGN KEY [index_name] (index_col_name,...) reference_defination;
ps:MariaDB [king]> ALTER TABLE users2 ADD FOREIGN KEY (pid) REFERENCES provinces(id);

添加／删除默认约束：
ALTER TABLE table_name ALTER [COLUMN] col_name {SET DEFAULT literal | DROP DEFAULT}
PS:MariaDB [king]> ALTER TABLE users2 ALTER age SET DEFAULT 22;

删除主键约束：
ALTER TABLE table_name DROP PRIMARY KEY;

删除唯一约束：
ALTER TABLE table_name DROP {INDEX|KEY} index_name;
ps:MariaDB [king]> ALTER TABLE users2 DROP INDEX username;

删除外键约束：
ALTER TABLE table_name DROP FOREIGN KEY fk_symbol;
ps:
show create table users2;
ALTER TABLE users2 DROP  FOREIGN KEY users2_ibfk_1;
注：外键约束的名字users2_ibfk_1是通过show create table users2;查看。

修改列定义：
ALTER TABLE table_name MODIFY [COLUMN] col_name column_defination [FIRST|AFTER col_name];

修改列名称：
ALTER TABLE table_name CHANGE [COLUMN] old_col_name new_col_name column_defination [FIRST | AFTER col_name];

修改数据表名：
方法1：ALTER TABLE table_name RENAME [TO|AS] new_table_name;
方法2：RENAME TABLE table_name TO new_table_name [,table_name2 TO new_table_name2]...;


[操作数据表中的记录]
插入记录方法1：
INSERT 「INTO」 table_name [(col_name,...)] {VALUES|VALUE} ({expr| DEFAULT},...),(...),...;
ps:
CREATE TABLE users(
    -> id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    -> username VARCHAR(20) NOT NULL,
    -> password VARCHAR(32) NOT NULL,
    -> age TINYINT UNSIGNED NOT NULL DEFAULT 10,
    -> sex BOOLEAN
    -> );
MariaDB [king]> INSERT INTO users  VALUES(NULL,'Tom','123',25,1);
MariaDB [king]> INSERT INTO users  VALUES(DEFAULT,'jing','123',25,1);
MariaDB [king]> INSERT users VALUES(DEFAULT,'lanpei','123',20-2,1);
MariaDB [king]> INSERT users VALUES(DEFAULT,'XIAOi','123',DEFAULT,1);
MariaDB [king]> INSERT users VALUES(DEFAULT,'user1','123',DEFAULT,1),(NULL,'user2',md5('123'),3*7-7,1);
注：不指定插入列，自增id的值可以写成NULL或DEFAULT。


插入记录方法2：
与第一种方式的区别在于，此方法可以使用子查询（SubQuery)
INSERT [INTO] table_name SET col_name={expr|DEFAULT},...;
ps:
 INSERT INTO users SET username='rose',password='357';

插入记录方法3：
INSERT 「INTO」 table_name [(col_name,...)] SELECT ...;
ps:
MariaDB [king]> INSERT INTO test(username) SELECT username FROM users WHERE age >=20;(插入从第二个表中查询出的数据。）

更改记录(UPDATE)
单表更新：
UPDATE [LOW_PRIORITY] [IGNORE] table_reference SET col_name1={expr1|DEFAULT} [,col_name2={expr2|DEFAULT}]... [WHERE where_condition];
ps:
MariaDB [king]> UPDATE users SET age=age+3;
MariaDB [king]> UPDATE users set age=age-id,sex=0 where id<3;
MariaDB [king]> UPDATE users SET age=age+10 where id%2=0;

删除记录(DELETE)
DELETE FROM table_name [WHERE where_condition];
ps:
MariaDB [king]> delete from users where id=6;

查找记录：
SELECT select_expr [,select_expr ...]
    [
        FROM   table_references
        [WHERE where_condition]
        [GROUP BY {col_name|position} [ASC|DESC],...]
        [HAVING where_condition]
        [ORDER BY {col_name|expr|position} [ASC|DESC],...]
        [LIMIT {[offset,] row_count | row_count OFFSET offset}]
    ];
查询表达式：
1.每个表达式表示想要的一列，必须有至少一个。
2.多个列之间以英文逗号分隔。
3.星号(*)表示所有列。tab_name.col_name表示某个表的某一列。
4.查询表达式可以使用[AS] alias_name为其赋予别名。
5.别名可用于GROUP BY ,ORDRE BY 或HAVING子句。
ps:
MariaDB [king]> select id,username from users where id%2=0;
MariaDB [king]> select id,username AS uname from users;

条件表达式：
1.对记录进行过滤，如果没有指定WHERE子句，则显示所有记录。
2.在WHERE表达式中，可以使用MySQL去持的函数或运算符。

查询结果分组：
[GROUP BY {col_name | positioin} [ASC|DESC],...];
ps:
MariaDB [king]> select sex from users group by sex;

分组条件(HAVING):
[HAVING where_condition]
ps:
MariaDB [king]> SELECT sex,age FROM users GROUP BY sex HAVING age > 20;
MariaDB [king]> SELECT sex,age FROM users GROUP BY sex HAVING count(id) >= 3;

查询排序：
[ORDER BY {col_name | expr | position} [ASC|DESC],...];
PS:
MariaDB [king]> SELECT * FROM users ORDER BY id DESC;
MariaDB [king]> SELECT * FROM users ORDER BY age ASC,id DESC;


限制数量：
[LIMIT {[offset,] row_count | row_count OFFSET offset}];
PS:
MariaDB [king]> SELECT * FROM users LIMIT 2;
MariaDB [king]> SELECT * FROM users LIMIT 2,4;(注：从下标为2的数据开始，取4条数据。数据表下标从0开始。）


[子查询」
子查询是指在另一个查询语句中的SELECT子句。

例句：SELECT * FROM t1 WHERE column1 = (SELECT column1 FROM t2);
其中，SELECT * FROM t1 ...称为Outer Query[外查询](或者Outer Statement),
SELECT column1 FROM t2 称为Sub Query[子查询]。

所以，我们说子查询是嵌套在外查询内部。而事实上它有可能在子查询内部再嵌套子查询。
子查询必须出现在圆括号之间。

-----------------------------------------------------
-----------------------------------------------------
-----------------------------------------------------
leaning to this:
MySQL 修改数据表--删除约束，与MySQL的零距离接触教程-慕课网
-----------------------------------------------------
-----------------------------------------------------
-----------------------------------------------------
-----------------------------------------------------
